<!DOCTYPE html>
<!-- saved from url=(0079)https://labondemand.com/LabProfile/Instructions/155704?instructionsSetId=248596 -->
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style data-merge-styles="true"></style>
    <style data-merge-styles="true"></style><style data-merge-styles="true"></style><meta name="viewport" content="width=device-width">
    <title>Lab 07: Connecting to Availability Groups</title>


    <script src="./Lab 07_ Connecting to Availability Groups_files/jquery.min.js.download" type="text/javascript"></script>
    <script src="./Lab 07_ Connecting to Availability Groups_files/Localize" type="text/javascript"></script>
    <script src="./Lab 07_ Connecting to Availability Groups_files/showdown.min.js.download"></script>
    <link rel="stylesheet" type="text/css" href="./Lab 07_ Connecting to Availability Groups_files/prettify.css">
    <script src="./Lab 07_ Connecting to Availability Groups_files/yaml.min.js.download"></script>
    <script src="./Lab 07_ Connecting to Availability Groups_files/LocalizeTo" type="text/javascript"></script>
    <link href="./Lab 07_ Connecting to Availability Groups_files/CloudClient.css" rel="stylesheet" type="text/css">

    <style type="text/css">
        body, html {
            font-family: Segoe UI,Tahoma,Verdana,Arial,sans-serif;
            font-size: 14px;
            padding: 0;
            margin: 0;
            background-color: #efefef;
            color: #000;
            height: 100%;
        }

        body {
            overflow: auto;
        }

        #outputWrapper {
            background-color: #efefef;
            min-height: 100%;
        }

        .instructionsPreview {
            padding: 20px;
            height: 100%;
        }

        .instructionsPreview .page {
            position: relative;
            display: block !important;
            padding: 15px 20px;
            background-color: #fff;
            page-break-after: always;
            min-height: 650px;
        }

        .instructionsPreview .page:not(:first-child) {
            margin-top: 20px;
        }

        @font-face {
            font-family: "lod";
            src: url("/fonts/lod.woff?v=18") format("woff"), url("/fonts/lod.ttf?v=18") format("truetype"), url("/fonts/lod.svg?v=18") format("svg");
        }

        .editLink:before {
            content: "\E70F";
            font-family: "lod";
            margin-right: 4px;
            display: inline-block;
        }

        @media print {
            body, html {
                height: auto;
            }

            body {
                -webkit-print-color-adjust: exact;
            }

            div {
                page-break-inside: avoid;
            }

            #outputWrapper {
                background-color: transparent;
            }

            .instructionsPreview {
                padding: 0;
            }

                .instructionsPreview .page:not(:first-child) {
                    margin-top: 0px;
                }
        }

        @page {
            margin-left: 1.5cm;
            margin-right: 1.5cm;
            margin-top: 1.5cm;
            margin-bottom: 1.5cm;
        }
    </style>
    <link id="themeStylesheet" href="./Lab 07_ Connecting to Availability Groups_files/Blue.css" rel="stylesheet">

</head>
<body>
        <!-- <div style="padding:10px 20px;">
            <a class="editLink" href="https://labondemand.com/LabProfile/EditInstructions/155704?InstructionsSetId=248596">Edit</a>
        </div> -->

    <div id="outputWrapper">
        <div id="instructions" class="instructionsPreview instructions"><div class="page" id="page0"><h1 id="connecting-to-availability-groups">Connecting to Availability Groups</h1>
<h2 id="introduction">Introduction</h2>
<p>During this lab, you will learn how to connect to Availability Groups using the listener name and connecting to individual replicas using the replica name utilizing SQL Server Management Studio (SSMS).</p>
<h2 id="objectives">Objectives</h2>
<p>At the end of this lab, you will be able to:</p>
<ul>
<li>Identify and connect to the listener</li>
<li>Connect to individual secondary replicas</li>
</ul>
<h2 id="estimated-time">Estimated Time</h2>
<p>15 minutes</p>
<h2 id="logon-information">Logon Information</h2>
<blockquote class="alert">
  <p><strong>Before Login make sure windows has Applied Computer Setting to all nodes.</strong></p>
</blockquote>
<p>Use the following credentials to login into virtual environment</p>
<ol>
<li><p>Connect to <strong><a href="https://labondemand.com/LabProfile/Instructions/155704?instructionsSetId=248596#" class="selectMachineLink icon-link special-action-link" data-data="242441">AlwaysOnClient</a></strong> as <strong><span class="typeText" title="Type Text">Administrator</span></strong> using <strong><span class="typeText" title="Type Text">Pa$$w0rd</span></strong> as the password.</p>
<blockquote class="hint">
  <p>Click the <strong><span class="typeText" title="Type Text">Type Text</span></strong> icon to enter the associated text into the virtual machine.</p>
</blockquote></li>
<li><p>Connect to <strong><a href="https://labondemand.com/LabProfile/Instructions/155704?instructionsSetId=248596#" class="selectMachineLink icon-link special-action-link" data-data="242434">AlwaysOnN1</a></strong> as <strong><span class="typeText" title="Type Text">CORPNET\Administrator</span></strong> using <strong><span class="typeText" title="Type Text">Pa$$w0rd</span></strong> as the password.</p>
<blockquote class="hint">
  <p>Click the <strong><span class="typeText" title="Type Text">Type Text</span></strong> icon to enter the associated text into the virtual machine.</p>
</blockquote></li>
<li><p>Connect to <strong><a href="https://labondemand.com/LabProfile/Instructions/155704?instructionsSetId=248596#" class="selectMachineLink icon-link special-action-link" data-data="242436">AlwaysOnN2</a></strong> as <strong><span class="typeText" title="Type Text">CORPNET\Administrator</span></strong> using <strong><span class="typeText" title="Type Text">Pa$$w0rd</span></strong> as the password.</p>
<blockquote class="hint">
  <p>Click the <strong><span class="typeText" title="Type Text">Type Text</span></strong> icon to enter the associated text into the virtual machine.</p>
</blockquote></li>
<li><p>Connect to <strong><a href="https://labondemand.com/LabProfile/Instructions/155704?instructionsSetId=248596#" class="selectMachineLink icon-link special-action-link" data-data="242438">AlwaysOnN3</a></strong> as <strong><span class="typeText" title="Type Text">CORPNET\Administrator</span></strong> using <strong><span class="typeText" title="Type Text">Pa$$w0rd</span></strong> as the password.</p>
<blockquote class="hint">
  <p>Click the <strong><span class="typeText" title="Type Text">Type Text</span></strong> icon to enter the associated text into the virtual machine.</p>
</blockquote></li>
<li><p>Connect to <strong><a href="https://labondemand.com/LabProfile/Instructions/155704?instructionsSetId=248596#" class="selectMachineLink icon-link special-action-link" data-data="242431">AlwaysOnDC</a></strong> as <strong><span class="typeText" title="Type Text">Administrator</span></strong> using <strong><span class="typeText" title="Type Text">Pa$$w0rd</span></strong> as the password.</p>
<blockquote class="hint">
  <p>Click the <strong><span class="typeText" title="Type Text">Type Text</span></strong> icon to enter the associated text into the virtual machine.</p>
</blockquote></li>
<li><p>Change the screen resolution if required.</p>
<blockquote class="hint">
  <p>You may want to adjust the screen resolution to your own preference. Do this by right-clicking on the desktop and choosing <strong>Screen resolution</strong> and clicking <strong>OK</strong> when finished.</p>
</blockquote></li>
</ol>
</div><div class="page" id="page1">
<h1 id="exercise-1-connect-directly-to-a-replica">Exercise 1: Connect directly to a replica</h1>
<p>This exercise shows how to connect to any replica in an availability group.</p>
<hr>
<h3 id="tasks">Tasks</h3>
<ol class="taskList">
<li class="task-list-item" id="taskIndex0"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex0"><span></span></label> Login to the <strong><a href="https://labondemand.com/LabProfile/Instructions/155704?instructionsSetId=248596#" class="selectMachineLink icon-link special-action-link" data-data="242441">AlwaysOnClient</a></strong> virtual machine as <strong><span class="typeText" title="Type Text">CORPNET\cluadmin</span></strong> using <span class="typeText" title="Type Text"><strong>Pa$$w0rd</strong></span> as the password.</p>
<blockquote class="hint">
  <p>Click the <strong><span class="typeText" title="Type Text">Type Text</span></strong> icon to enter the associated text into the virtual machine.</p>
</blockquote></li>
<li class="task-list-item" id="taskIndex1"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex1"><span></span></label> Open <strong>SQL Server Management Studio</strong> (SSMS)</p>
<ol>
<li><p>Log into the <strong><a href="https://labondemand.com/LabProfile/Instructions/155704?instructionsSetId=248596#" class="selectMachineLink icon-link special-action-link" data-data="242441">AlwaysOnClient</a></strong> server.</p></li>
<li><p>Open <strong>SSMS</strong> by left clicking the icon on the taskbar.</p>
<p>
<img src="./Lab 07_ Connecting to Availability Groups_files/image0204.png"></p></li></ol></li>
<li class="task-list-item" id="taskIndex2"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex2"><span></span></label> Connect to replica AlwaysOnN1</p>
<ol>
<li><p>In the Connect to Server dialog box, type in <strong><span class="typeText" title="Type Text">AlwaysOnN1</span></strong> and then click <strong>Connect</strong>.</p>
<p>
<img src="./Lab 07_ Connecting to Availability Groups_files/image0205.png"></p>
<blockquote class="knowledge">
  <p>While this connection should work without issue due to the changes made in the .NET provider, in rare instances or in your production environment there may be a need to specifically add in the MultiSubnetFailover=True keyword to the connection string.<br><br>
  This can be added using SQL Server Management Studio (SSMS) by clicking the "Options" button and typing in "MultiSubnetFailover=True" into the textbox presented.<br><br>
  In older versions of SSMS (before SSMS 2016) the extra connection information was not saved as part of the session. In newer version of SSMS (2016+) this information is saved as part of the connection and all subsequent connections will use this by default.</p>
</blockquote><div class="moreKnowledge"><a href="https://labondemand.com/LabProfile/Instructions/155704?instructionsSetId=248596#" class="moreKnowledgeLink" style="display: none;">more...</a></div></li></ol></li>
<li class="task-list-item" id="taskIndex3"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex3"><span></span></label> Discover <strong>AlwaysOn</strong> information and metadata</p>
<ol>
<li><p>Expand the AlwaysOn High Availability Folder</p></li>
<li><p>Expand the Availability Group Folder</p></li>
<li><p>How many availability groups does this replica support? Is there any word after the availability group name - if so, what is it?     </p>
<p><input type="text" class="variableTextBox" data-name="answer_7-1-4-3" maxlength="500" spellcheck="false" data-ms-editor="true"></p></li>
<li><p>Expand the AGCorp availability group</p></li>
<li><p>Expand the Availability Replicas Folder</p></li>
<li><p>How many replicas are involved in this availability group?</p>
<p><input type="text" class="variableTextBox" data-name="answer_7-1-4-6" maxlength="500" spellcheck="false" data-ms-editor="true"></p></li>
<li><p>Expand the Availability Databases Folder</p></li>
<li><p>How many Databases are involved in this availability group?</p>
<p><input type="text" class="variableTextBox" data-name="answer_7-1-4-8" maxlength="500" spellcheck="false" data-ms-editor="true"></p></li>
<li><p>Expand the Availability Group Listeners Folder</p></li>
<li><p>How many listeners are there for this availability group and what are their DNS names?</p>
<p><input type="text" class="variableTextBox" data-name="answer_7-1-4-10" maxlength="500" spellcheck="false" data-ms-editor="true"></p></li></ol></li>
</ol>
<h3 id="congratulations">Congratulations!</h3>
<p>You have successfully completed this exercise. Click <strong>Next</strong> to advance to the next exercise.</p>
</div><div class="page" id="page2">
<h1 id="exercise-2-connect-to-the-listener">Exercise 2: Connect to the listener</h1>
<p>This exercise shows how to connect to the listener, which will always point to the primary replica.</p>
<hr>
<h3 id="tasks-1">Tasks</h3>
<ol class="taskList">
<li class="task-list-item" id="taskIndex4"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex4"><span></span></label> Connect to the primary replica</p>
<ol>
<li><p>Open a new server connection by left clicking on the <strong>Connect</strong> button in object explorer and choosing <strong>Database Engine…</strong></p>
<p>
<img src="./Lab 07_ Connecting to Availability Groups_files/image0206.png"></p></li>
<li><p>Type in the listener name found in Exercise 1, task 3 <strong><span class="typeText" title="Type Text">AGCorpListen</span></strong> and click <strong>connect</strong>.</p>
<p>
<img src="./Lab 07_ Connecting to Availability Groups_files/image0207.png"></p></li></ol></li>
<li class="task-list-item" id="taskIndex5"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex5"><span></span></label> Check the name of the replica</p>
<ol>
<li><p>Open a new query window by pressing the <strong>New Query</strong> button on the toolbar or pressing <strong>Control+N</strong>.</p></li>
<li><p>Type in the query window: <strong><span class="typeText" title="Type Text">SELECT @@SERVERNAME</span></strong></p></li>
<li><p>We connected to AGCorpListen but what is the actual primary replica?</p>
<p><input type="text" class="variableTextBox" data-name="answer_7-2-2-3" maxlength="500" spellcheck="false" data-ms-editor="true"></p></li>
<li><p>Where else could we find which replica is the primary without connecting to SQL Server?</p>
<p><input type="text" class="variableTextBox" data-name="answer_7-2-2-4" maxlength="500" spellcheck="false" data-ms-editor="true"></p></li></ol></li>
</ol>
<h3 id="congratulations-1">Congratulations!</h3>
<p>You have successfully completed this exercise. Click <strong>Next</strong> to advance to the next exercise.</p>
</div><div class="page" id="page3">
<h1 id="optional-exercise-3-connect-using-sqlcmd">(Optional) Exercise 3: Connect using SQLCMD</h1>
<p>This exercise shows how to connect to an availability group using SQLCMD.</p>
<hr>
<h3 id="tasks-2">Tasks</h3>
<ol class="taskList">
<li class="task-list-item" id="taskIndex6"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex6"><span></span></label> Open a <strong>Command Prompt</strong> or <strong>PowerShell window</strong></p>
<p>Right-click on the windows icon in the bottom left corner of the window and choose Windows Powershell (Admin).</p>
<p>
<img src="./Lab 07_ Connecting to Availability Groups_files/image0208.png"></p></li>
<li class="task-list-item" id="taskIndex7"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex7"><span></span></label>If a User Account Control (UAC) prompt appears, press <strong>Yes</strong>.</p></li>
<li class="task-list-item" id="taskIndex8"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex8"><span></span></label> Type into the powershell window: </p>
<pre><div class="codeTitle">PowerShell</div><code class="PowerShell language-PowerShell prettyprint prettyprinted" style=""><span class="pln">sqlcmd </span><span class="pun">/?</span></code></pre>
<blockquote class="knowledge">
  <p>This will list out all of the sqlcmd option for the version of sqlcmd installed on the system.</p>
</blockquote><div class="moreKnowledge"><a href="https://labondemand.com/LabProfile/Instructions/155704?instructionsSetId=248596#" class="moreKnowledgeLink" style="display: none;">more...</a></div></li>
<li class="task-list-item" id="taskIndex9"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex9"><span></span></label> Notice two of the options: M and K - What do these switches do?</p>
<p><strong>M:</strong> <input type="text" class="variableTextBox" data-name="answer_7-3-1-4-M" maxlength="500" spellcheck="false" data-ms-editor="true"></p>
<p><strong>K:</strong> <input type="text" class="variableTextBox" data-name="answer_7-3-1-4-K" maxlength="500" spellcheck="false" data-ms-editor="true"></p></li>
<li class="task-list-item" id="taskIndex10"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex10"><span></span></label> Construct a proper connection through SQLCMD by using the listener name and the M option.</p>
<ol>
<li><p>Type into the Powershell Window: </p>
<pre><div class="codeTitle">PowerShell</div><code class="PowerShell language-PowerShell prettyprint prettyprinted" style=""><span class="pln">SQLCMD </span><span class="pun">-</span><span class="pln">S </span><span class="typ">AGCorpListen</span><span class="pln"> </span><span class="pun">-</span><span class="pln">M</span></code></pre></li>
<li><p>Press enter to connect, you should now be connected and presented with a prompt that says 1&gt;</p>
<p>
<img src="./Lab 07_ Connecting to Availability Groups_files/image0209.png"></p></li>
<li><p>Select the server name by typing in: </p>
<pre><div class="codeTitle">PowerShell</div><code class="PowerShell language-PowerShell prettyprint prettyprinted" style=""><span class="pln">SELECT </span><span class="pun">@</span><span class="lit">@SERVERNAME</span></code></pre></li>
<li><p>Press enter, then type in <strong><span class="typeText" title="Type Text">GO</span></strong>, and press enter.</p></li>
<li><p>What is the result?</p></li>
<li><p>Type in <strong><span class="typeText" title="Type Text">exit</span></strong>, press <strong>enter</strong>, then close the <strong>Powershell Window</strong>.</p></li></ol></li>
</ol>
<h3 id="congratulations-2">Congratulations!</h3>
<p>You have successfully completed this exercise. You can move to the next lab.</p></div></div>
    </div>
    <input type="hidden" id="rawContent" value="# Connecting to Availability Groups

## Introduction

During this lab, you will learn how to connect to Availability Groups using the listener name and connecting to individual replicas using the replica name utilizing SQL Server Management Studio (SSMS).

## Objectives

At the end of this lab, you will be able to:

- Identify and connect to the listener
- Connect to individual secondary replicas

## Estimated Time

15 minutes

## Logon Information
&gt;[!alert]**Before Login make sure windows has Applied Computer Setting to all nodes.**

Use the following credentials to login into virtual environment

1. Connect to **@lab.VirtualMachine(AlwaysOnClient).SelectLink** as **+++@lab.VirtualMachine(AlwaysOnClient).Username+++** using **+++@lab.VirtualMachine(AlwaysOnClient).Password+++** as the password.

    &gt;[!TIP] Click the **+++Type Text+++** icon to enter the associated text into the virtual machine.

1. Connect to **@lab.VirtualMachine(AlwaysOnN1).SelectLink** as **+++@lab.VirtualMachine(AlwaysOnN1).Username+++** using **+++@lab.VirtualMachine(AlwaysOnN1).Password+++** as the password.

    &gt;[!TIP] Click the **+++Type Text+++** icon to enter the associated text into the virtual machine.

1. Connect to **@lab.VirtualMachine(AlwaysOnN2).SelectLink** as **+++@lab.VirtualMachine(AlwaysOnN2).Username+++** using **+++@lab.VirtualMachine(AlwaysOnN2).Password+++** as the password.

    &gt;[!TIP] Click the **+++Type Text+++** icon to enter the associated text into the virtual machine.

1. Connect to **@lab.VirtualMachine(AlwaysOnN3).SelectLink** as **+++@lab.VirtualMachine(AlwaysOnN3).Username+++** using **+++@lab.VirtualMachine(AlwaysOnN3).Password+++** as the password.

    &gt;[!TIP] Click the **+++Type Text+++** icon to enter the associated text into the virtual machine.

1. Connect to **@lab.VirtualMachine(AlwaysOnDC).SelectLink** as **+++@lab.VirtualMachine(AlwaysOnDC).Username+++** using **+++@lab.VirtualMachine(AlwaysOnDC).Password+++** as the password.

    &gt;[!TIP] Click the **+++Type Text+++** icon to enter the associated text into the virtual machine.

1. Change the screen resolution if required.

    &gt;[!TIP] You may want to adjust the screen resolution to your own preference. Do this by right-clicking on the desktop and choosing **Screen resolution** and clicking **OK** when finished.

===

# Exercise 1: Connect directly to a replica

This exercise shows how to connect to any replica in an availability group.

---

### Tasks

1. [] Login to the **@lab.VirtualMachine(AlwaysOnClient).SelectLink** virtual machine as **+++CORPNET\cluadmin+++** using +++**Pa$$w0rd**+++ as the password.

    &gt;[!TIP] Click the **+++Type Text+++** icon to enter the associated text into the virtual machine.
    
1. [] Open **SQL Server Management Studio** (SSMS)

    1. Log into the **@lab.VirtualMachine(AlwaysOnClient).SelectLink** server.

    1. Open **SSMS** by left clicking the icon on the taskbar.

        ![](Media/image0204.png)

1. [] Connect to replica AlwaysOnN1

    1. In the Connect to Server dialog box, type in **+++AlwaysOnN1**+++ and then click **Connect**.

        ![](Media/image0205.png)

        &gt;[!knowledge]While this connection should work without issue due to the changes made in the .NET provider, in rare instances or in your production environment there may be a need to specifically add in the MultiSubnetFailover=True keyword to the connection string.&lt;br/&gt;&lt;br/&gt;
        &gt;This can be added using SQL Server Management Studio (SSMS) by clicking the &quot;Options&quot; button and typing in &quot;MultiSubnetFailover=True&quot; into the textbox presented.&lt;br/&gt;&lt;br/&gt;
        &gt;In older versions of SSMS (before SSMS 2016) the extra connection information was not saved as part of the session. In newer version of SSMS (2016+) this information is saved as part of the connection and all subsequent connections will use this by default.

1. [] Discover **AlwaysOn** information and metadata

    1. Expand the AlwaysOn High Availability Folder

    1. Expand the Availability Group Folder

    1. How many availability groups does this replica support? Is there any word after the availability group name - if so, what is it?     

        @lab.TextBox(answer_7-1-4-3)

    1. Expand the AGCorp availability group

    1. Expand the Availability Replicas Folder

    1. How many replicas are involved in this availability group?

        @lab.TextBox(answer_7-1-4-6)

    1. Expand the Availability Databases Folder

    1. How many Databases are involved in this availability group?

        @lab.TextBox(answer_7-1-4-8)

    1. Expand the Availability Group Listeners Folder

    1. How many listeners are there for this availability group and what are their DNS names?

        @lab.TextBox(answer_7-1-4-10)

### Congratulations!

You have successfully completed this exercise. Click **Next** to advance to the next exercise.

===

# Exercise 2: Connect to the listener

This exercise shows how to connect to the listener, which will always point to the primary replica.

---

### Tasks

1. [] Connect to the primary replica

    1. Open a new server connection by left clicking on the **Connect** button in object explorer and choosing **Database Engine...**

        ![](Media/image0206.png)

    1. Type in the listener name found in Exercise 1, task 3 **+++AGCorpListen**+++ and click **connect**.

        ![](Media/image0207.png)

1. [] Check the name of the replica

    1. Open a new query window by pressing the **New Query** button on the toolbar or pressing **Control+N**.

    1. Type in the query window: **+++SELECT @@SERVERNAME**+++

    1. We connected to AGCorpListen but what is the actual primary replica?

        @lab.TextBox(answer_7-2-2-3)

    1. Where else could we find which replica is the primary without connecting to SQL Server?

        @lab.TextBox(answer_7-2-2-4)

### Congratulations!

You have successfully completed this exercise. Click **Next** to advance to the next exercise.

===

# (Optional) Exercise 3: Connect using SQLCMD

This exercise shows how to connect to an availability group using SQLCMD.

---

### Tasks

1. [] Open a **Command Prompt** or **PowerShell window**

    Right-click on the windows icon in the bottom left corner of the window and choose Windows Powershell (Admin).

    ![](Media/image0208.png)

1. []If a User Account Control (UAC) prompt appears, press **Yes**.

1. [] Type into the powershell window: 
    
    ```PowerShell
    sqlcmd /?
    ```

    &gt;[!knowledge] This will list out all of the sqlcmd option for the version of sqlcmd installed on the system.

1. [] Notice two of the options: M and K - What do these switches do?

    **M:** @lab.TextBox(answer_7-3-1-4-M)

    **K:** @lab.TextBox(answer_7-3-1-4-K)

1. [] Construct a proper connection through SQLCMD by using the listener name and the M option.

    1. Type into the Powershell Window: 
        
        ```PowerShell
        SQLCMD -S AGCorpListen -M
        ```

    1. Press enter to connect, you should now be connected and presented with a prompt that says 1&amp;gt;

        ![](Media/image0209.png)

    1. Select the server name by typing in: 
            
        ```PowerShell
        SELECT @@SERVERNAME
        ```

    1. Press enter, then type in **+++GO**+++, and press enter.

    1. What is the result?

    1. Type in **+++exit**+++, press **enter**, then close the **Powershell Window**.

### Congratulations!

You have successfully completed this exercise. You can move to the next lab.
">
    <input type="hidden" id="activities" value="[]">
    <input type="hidden" id="activityGroups" value="[]">
    <input type="hidden" id="replacementTokens" value="[{&quot;Token&quot;:&quot;@lab.LabProfile.Id&quot;,&quot;Replacement&quot;:&quot;155704&quot;},{&quot;Token&quot;:&quot;@lab.CtrlAltDelete&quot;,&quot;Replacement&quot;:&quot;&lt;a href=&#39;#&#39; class=&#39;ctrlAltDeleteLink icon-link special-action-link&#39;&gt;Ctrl+Alt+Delete&lt;/a&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnDC).SelectLink&quot;,&quot;Replacement&quot;:&quot;&lt;a href=&#39;#&#39; class=&#39;selectMachineLink icon-link special-action-link&#39; data-data=&#39;242431&#39;&gt;AlwaysOnDC&lt;/a&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnDC).Username&quot;,&quot;Replacement&quot;:&quot;Administrator&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnDC).Password&quot;,&quot;Replacement&quot;:&quot;Pa$$$$w0rd&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnDC).Console&quot;,&quot;Replacement&quot;:&quot;&lt;div class=&#39;virtual-machine-console&#39; data-id=&#39;242431&#39; data-height=&#39;768&#39; data-width=&#39;1024&#39;&gt;&lt;/div&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnDC).NewWindowLink&quot;,&quot;Replacement&quot;:&quot;&lt;a href=&#39;#&#39; class=&#39;open-in-new-window-link icon-link special-action-link machine-new-window-link&#39; data-data=&#39;242431&#39;&gt;AlwaysOnDC&lt;/a&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN1).SelectLink&quot;,&quot;Replacement&quot;:&quot;&lt;a href=&#39;#&#39; class=&#39;selectMachineLink icon-link special-action-link&#39; data-data=&#39;242434&#39;&gt;AlwaysOnN1&lt;/a&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN1).Username&quot;,&quot;Replacement&quot;:&quot;CORPNET\\Administrator&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN1).Password&quot;,&quot;Replacement&quot;:&quot;Pa$$$$w0rd&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN1).Console&quot;,&quot;Replacement&quot;:&quot;&lt;div class=&#39;virtual-machine-console&#39; data-id=&#39;242434&#39; data-height=&#39;768&#39; data-width=&#39;1024&#39;&gt;&lt;/div&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN1).NewWindowLink&quot;,&quot;Replacement&quot;:&quot;&lt;a href=&#39;#&#39; class=&#39;open-in-new-window-link icon-link special-action-link machine-new-window-link&#39; data-data=&#39;242434&#39;&gt;AlwaysOnN1&lt;/a&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN2).SelectLink&quot;,&quot;Replacement&quot;:&quot;&lt;a href=&#39;#&#39; class=&#39;selectMachineLink icon-link special-action-link&#39; data-data=&#39;242436&#39;&gt;AlwaysOnN2&lt;/a&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN2).Username&quot;,&quot;Replacement&quot;:&quot;CORPNET\\Administrator&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN2).Password&quot;,&quot;Replacement&quot;:&quot;Pa$$$$w0rd&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN2).Console&quot;,&quot;Replacement&quot;:&quot;&lt;div class=&#39;virtual-machine-console&#39; data-id=&#39;242436&#39; data-height=&#39;768&#39; data-width=&#39;1024&#39;&gt;&lt;/div&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN2).NewWindowLink&quot;,&quot;Replacement&quot;:&quot;&lt;a href=&#39;#&#39; class=&#39;open-in-new-window-link icon-link special-action-link machine-new-window-link&#39; data-data=&#39;242436&#39;&gt;AlwaysOnN2&lt;/a&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN3).SelectLink&quot;,&quot;Replacement&quot;:&quot;&lt;a href=&#39;#&#39; class=&#39;selectMachineLink icon-link special-action-link&#39; data-data=&#39;242438&#39;&gt;AlwaysOnN3&lt;/a&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN3).Username&quot;,&quot;Replacement&quot;:&quot;CORPNET\\Administrator&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN3).Password&quot;,&quot;Replacement&quot;:&quot;Pa$$$$w0rd&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN3).Console&quot;,&quot;Replacement&quot;:&quot;&lt;div class=&#39;virtual-machine-console&#39; data-id=&#39;242438&#39; data-height=&#39;768&#39; data-width=&#39;1024&#39;&gt;&lt;/div&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN3).NewWindowLink&quot;,&quot;Replacement&quot;:&quot;&lt;a href=&#39;#&#39; class=&#39;open-in-new-window-link icon-link special-action-link machine-new-window-link&#39; data-data=&#39;242438&#39;&gt;AlwaysOnN3&lt;/a&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnClient).SelectLink&quot;,&quot;Replacement&quot;:&quot;&lt;a href=&#39;#&#39; class=&#39;selectMachineLink icon-link special-action-link&#39; data-data=&#39;242441&#39;&gt;AlwaysOnClient&lt;/a&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnClient).Username&quot;,&quot;Replacement&quot;:&quot;Administrator&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnClient).Password&quot;,&quot;Replacement&quot;:&quot;Pa$$$$w0rd&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnClient).Console&quot;,&quot;Replacement&quot;:&quot;&lt;div class=&#39;virtual-machine-console&#39; data-id=&#39;242441&#39; data-height=&#39;768&#39; data-width=&#39;1024&#39;&gt;&lt;/div&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnClient).NewWindowLink&quot;,&quot;Replacement&quot;:&quot;&lt;a href=&#39;#&#39; class=&#39;open-in-new-window-link icon-link special-action-link machine-new-window-link&#39; data-data=&#39;242441&#39;&gt;AlwaysOnClient&lt;/a&gt;&quot;},{&quot;Token&quot;:&quot;@lab.Title&quot;,&quot;Replacement&quot;:&quot;&lt;h1 class=\&quot;lab-title primary-color\&quot;&gt;Connecting to Availability Groups&lt;/h1&gt;&quot;},{&quot;Token&quot;:&quot;@lab.LanguageName&quot;,&quot;Replacement&quot;:&quot;English&quot;},{&quot;Token&quot;:&quot;@lab.LanguageCode&quot;,&quot;Replacement&quot;:&quot;en&quot;},{&quot;Token&quot;:&quot;@lab.LanguageRegionCode&quot;,&quot;Replacement&quot;:&quot;en-US&quot;},{&quot;Token&quot;:&quot;@lab.LabInstance.Id&quot;,&quot;Replacement&quot;:&quot;{LAB_INSTANCE_ID}&quot;},{&quot;Token&quot;:&quot;@lab.LabInstance.GlobalId&quot;,&quot;Replacement&quot;:&quot;{lod_LAB_INSTANCE_ID}&quot;},{&quot;Token&quot;:&quot;@lab.LabInstance.StartDate&quot;,&quot;Replacement&quot;:&quot;20240324&quot;},{&quot;Token&quot;:&quot;@lab.User.Id&quot;,&quot;Replacement&quot;:&quot;{USER_ID}&quot;},{&quot;Token&quot;:&quot;@lab.User.FirstName&quot;,&quot;Replacement&quot;:&quot;{USER_FIRSTNAME}&quot;},{&quot;Token&quot;:&quot;@lab.User.LastName&quot;,&quot;Replacement&quot;:&quot;{USER_LASTNAME}&quot;},{&quot;Token&quot;:&quot;@lab.User.Email&quot;,&quot;Replacement&quot;:&quot;{EMAIL}&quot;},{&quot;Token&quot;:&quot;@lab.User.ExternalId&quot;,&quot;Replacement&quot;:&quot;{USER_EXTERNALID}&quot;},{&quot;Token&quot;:&quot;@lab.User.Organization.Id&quot;,&quot;Replacement&quot;:&quot;{USER_ORGANIZATION_ID}&quot;},{&quot;Token&quot;:&quot;@lab.User.Organization.Name&quot;,&quot;Replacement&quot;:&quot;{USER_ORGANIZATION_NAME}&quot;},{&quot;Token&quot;:&quot;@lab.Tag&quot;,&quot;Replacement&quot;:&quot;{TAG}&quot;}]">
    <input type="hidden" id="replacements">
    <input type="hidden" id="variables">

    <textarea id="copyInput" value="" style="position: absolute; left:-10000px; top:-10000px; " spellcheck="false" data-ms-editor="true"></textarea>

    <div id="Model" data-id="155704" data-contentroot="https://labondemand.blob.core.windows.net/content/lab155704/" data-scrolltop="" data-themescript="">



</div></body><editor-card style="position:absolute;top:0px;left:0px;z-index:auto;display: block !important"><div dir="ltr" style="all: initial;"><div style="color: initial; font: initial; font-palette: initial; font-synthesis: initial; forced-color-adjust: initial; position: absolute; text-orientation: initial; text-rendering: initial; -webkit-font-smoothing: initial; -webkit-locale: initial; -webkit-text-orientation: initial; -webkit-writing-mode: initial; writing-mode: initial; zoom: initial; accent-color: initial; place-content: initial; place-items: initial; place-self: initial; alignment-baseline: initial; animation-composition: initial; animation: initial; app-region: initial; appearance: initial; aspect-ratio: initial; backdrop-filter: initial; backface-visibility: initial; background: initial; background-blend-mode: initial; baseline-shift: initial; baseline-source: initial; block-size: initial; border-block: initial; border: initial; border-radius: initial; border-collapse: initial; border-end-end-radius: initial; border-end-start-radius: initial; border-inline: initial; border-start-end-radius: initial; border-start-start-radius: initial; inset: initial; box-shadow: initial; box-sizing: initial; break-after: initial; break-before: initial; break-inside: initial; buffered-rendering: initial; caption-side: initial; caret-color: initial; clear: initial; clip: initial; clip-path: initial; clip-rule: initial; color-interpolation: initial; color-interpolation-filters: initial; color-rendering: initial; color-scheme: initial; columns: initial; column-fill: initial; gap: initial; column-rule: initial; column-span: initial; contain: initial; contain-intrinsic-block-size: initial; contain-intrinsic-size: initial; contain-intrinsic-inline-size: initial; container: initial; content: initial; content-visibility: initial; counter-increment: initial; counter-reset: initial; counter-set: initial; cursor: initial; cx: initial; cy: initial; d: initial; display: initial; dominant-baseline: initial; empty-cells: initial; fill: initial; fill-opacity: initial; fill-rule: initial; filter: initial; flex: initial; flex-flow: initial; float: initial; flood-color: initial; flood-opacity: initial; grid: initial; grid-area: initial; height: initial; hyphenate-character: initial; hyphenate-limit-chars: initial; hyphens: initial; image-orientation: initial; image-rendering: initial; initial-letter: initial; inline-size: initial; inset-block: initial; inset-inline: initial; isolation: initial; letter-spacing: initial; lighting-color: initial; line-break: initial; list-style: initial; margin-block: initial; margin: initial; margin-inline: initial; marker: initial; mask: initial; mask-type: initial; math-depth: initial; math-shift: initial; math-style: initial; max-block-size: initial; max-height: initial; max-inline-size: initial; max-width: initial; min-block-size: initial; min-height: initial; min-inline-size: initial; min-width: initial; mix-blend-mode: initial; object-fit: initial; object-position: initial; object-view-box: initial; offset: initial; opacity: initial; order: initial; orphans: initial; outline: initial; outline-offset: initial; overflow-anchor: initial; overflow-clip-margin: initial; overflow-wrap: initial; overflow: initial; overlay: initial; overscroll-behavior-block: initial; overscroll-behavior-inline: initial; overscroll-behavior: initial; padding-block: initial; padding: initial; padding-inline: initial; page: initial; page-orientation: initial; paint-order: initial; perspective: initial; perspective-origin: initial; pointer-events: initial; quotes: initial; r: initial; resize: initial; rotate: initial; ruby-position: initial; rx: initial; ry: initial; scale: initial; scroll-behavior: initial; scroll-margin-block: initial; scroll-margin: initial; scroll-margin-inline: initial; scroll-padding-block: initial; scroll-padding: initial; scroll-padding-inline: initial; scroll-snap-align: initial; scroll-snap-stop: initial; scroll-snap-type: initial; scroll-timeline: initial; scrollbar-color: initial; scrollbar-gutter: initial; scrollbar-width: initial; shape-image-threshold: initial; shape-margin: initial; shape-outside: initial; shape-rendering: initial; size: initial; speak: initial; stop-color: initial; stop-opacity: initial; stroke: initial; stroke-dasharray: initial; stroke-dashoffset: initial; stroke-linecap: initial; stroke-linejoin: initial; stroke-miterlimit: initial; stroke-opacity: initial; stroke-width: initial; tab-size: initial; table-layout: initial; text-align: initial; text-align-last: initial; text-anchor: initial; text-combine-upright: initial; text-decoration: initial; text-decoration-skip-ink: initial; text-emphasis: initial; text-emphasis-position: initial; text-indent: initial; text-overflow: initial; text-shadow: initial; text-size-adjust: initial; text-transform: initial; text-underline-offset: initial; text-underline-position: initial; white-space: initial; timeline-scope: initial; touch-action: initial; transform: initial; transform-box: initial; transform-origin: initial; transform-style: initial; transition: initial; translate: initial; user-select: initial; vector-effect: initial; vertical-align: initial; view-timeline: initial; view-transition-name: initial; visibility: initial; border-spacing: initial; -webkit-box-align: initial; -webkit-box-decoration-break: initial; -webkit-box-direction: initial; -webkit-box-flex: initial; -webkit-box-ordinal-group: initial; -webkit-box-orient: initial; -webkit-box-pack: initial; -webkit-box-reflect: initial; -webkit-line-break: initial; -webkit-line-clamp: initial; -webkit-mask-box-image: initial; -webkit-print-color-adjust: initial; -webkit-rtl-ordering: initial; -webkit-ruby-position: initial; -webkit-tap-highlight-color: initial; -webkit-text-combine: initial; -webkit-text-decorations-in-effect: initial; -webkit-text-fill-color: initial; -webkit-text-security: initial; -webkit-text-stroke: initial; -webkit-user-drag: initial; widows: initial; width: initial; will-change: initial; word-break: initial; word-spacing: initial; x: initial; y: initial; z-index: 2147483647;"><link rel="stylesheet" href="chrome-extension://hokifickgkhplphjiodbggjmoafhignh/fonts/fabric-icons.css"><div style="all: initial;"><template shadowrootmode="open"></template></div></div><div style="color: initial; font: initial; font-palette: initial; font-synthesis: initial; forced-color-adjust: initial; position: absolute; text-orientation: initial; text-rendering: initial; -webkit-font-smoothing: initial; -webkit-locale: initial; -webkit-text-orientation: initial; -webkit-writing-mode: initial; writing-mode: initial; zoom: initial; accent-color: initial; place-content: initial; place-items: initial; place-self: initial; alignment-baseline: initial; animation-composition: initial; animation: initial; app-region: initial; appearance: initial; aspect-ratio: initial; backdrop-filter: initial; backface-visibility: initial; background: initial; background-blend-mode: initial; baseline-shift: initial; baseline-source: initial; block-size: initial; border-block: initial; border: initial; border-radius: initial; border-collapse: initial; border-end-end-radius: initial; border-end-start-radius: initial; border-inline: initial; border-start-end-radius: initial; border-start-start-radius: initial; inset: initial; box-shadow: initial; box-sizing: initial; break-after: initial; break-before: initial; break-inside: initial; buffered-rendering: initial; caption-side: initial; caret-color: initial; clear: initial; clip: initial; clip-path: initial; clip-rule: initial; color-interpolation: initial; color-interpolation-filters: initial; color-rendering: initial; color-scheme: initial; columns: initial; column-fill: initial; gap: initial; column-rule: initial; column-span: initial; contain: initial; contain-intrinsic-block-size: initial; contain-intrinsic-size: initial; contain-intrinsic-inline-size: initial; container: initial; content: initial; content-visibility: initial; counter-increment: initial; counter-reset: initial; counter-set: initial; cursor: initial; cx: initial; cy: initial; d: initial; display: initial; dominant-baseline: initial; empty-cells: initial; fill: initial; fill-opacity: initial; fill-rule: initial; filter: initial; flex: initial; flex-flow: initial; float: initial; flood-color: initial; flood-opacity: initial; grid: initial; grid-area: initial; height: initial; hyphenate-character: initial; hyphenate-limit-chars: initial; hyphens: initial; image-orientation: initial; image-rendering: initial; initial-letter: initial; inline-size: initial; inset-block: initial; inset-inline: initial; isolation: initial; letter-spacing: initial; lighting-color: initial; line-break: initial; list-style: initial; margin-block: initial; margin: initial; margin-inline: initial; marker: initial; mask: initial; mask-type: initial; math-depth: initial; math-shift: initial; math-style: initial; max-block-size: initial; max-height: initial; max-inline-size: initial; max-width: initial; min-block-size: initial; min-height: initial; min-inline-size: initial; min-width: initial; mix-blend-mode: initial; object-fit: initial; object-position: initial; object-view-box: initial; offset: initial; opacity: initial; order: initial; orphans: initial; outline: initial; outline-offset: initial; overflow-anchor: initial; overflow-clip-margin: initial; overflow-wrap: initial; overflow: initial; overlay: initial; overscroll-behavior-block: initial; overscroll-behavior-inline: initial; overscroll-behavior: initial; padding-block: initial; padding: initial; padding-inline: initial; page: initial; page-orientation: initial; paint-order: initial; perspective: initial; perspective-origin: initial; pointer-events: initial; quotes: initial; r: initial; resize: initial; rotate: initial; ruby-position: initial; rx: initial; ry: initial; scale: initial; scroll-behavior: initial; scroll-margin-block: initial; scroll-margin: initial; scroll-margin-inline: initial; scroll-padding-block: initial; scroll-padding: initial; scroll-padding-inline: initial; scroll-snap-align: initial; scroll-snap-stop: initial; scroll-snap-type: initial; scroll-timeline: initial; scrollbar-color: initial; scrollbar-gutter: initial; scrollbar-width: initial; shape-image-threshold: initial; shape-margin: initial; shape-outside: initial; shape-rendering: initial; size: initial; speak: initial; stop-color: initial; stop-opacity: initial; stroke: initial; stroke-dasharray: initial; stroke-dashoffset: initial; stroke-linecap: initial; stroke-linejoin: initial; stroke-miterlimit: initial; stroke-opacity: initial; stroke-width: initial; tab-size: initial; table-layout: initial; text-align: initial; text-align-last: initial; text-anchor: initial; text-combine-upright: initial; text-decoration: initial; text-decoration-skip-ink: initial; text-emphasis: initial; text-emphasis-position: initial; text-indent: initial; text-overflow: initial; text-shadow: initial; text-size-adjust: initial; text-transform: initial; text-underline-offset: initial; text-underline-position: initial; white-space: initial; timeline-scope: initial; touch-action: initial; transform: initial; transform-box: initial; transform-origin: initial; transform-style: initial; transition: initial; translate: initial; user-select: initial; vector-effect: initial; vertical-align: initial; view-timeline: initial; view-transition-name: initial; visibility: initial; border-spacing: initial; -webkit-box-align: initial; -webkit-box-decoration-break: initial; -webkit-box-direction: initial; -webkit-box-flex: initial; -webkit-box-ordinal-group: initial; -webkit-box-orient: initial; -webkit-box-pack: initial; -webkit-box-reflect: initial; -webkit-line-break: initial; -webkit-line-clamp: initial; -webkit-mask-box-image: initial; -webkit-print-color-adjust: initial; -webkit-rtl-ordering: initial; -webkit-ruby-position: initial; -webkit-tap-highlight-color: initial; -webkit-text-combine: initial; -webkit-text-decorations-in-effect: initial; -webkit-text-fill-color: initial; -webkit-text-security: initial; -webkit-text-stroke: initial; -webkit-user-drag: initial; widows: initial; width: initial; will-change: initial; word-break: initial; word-spacing: initial; x: initial; y: initial; z-index: 2147483647;"><link rel="stylesheet" href="chrome-extension://hokifickgkhplphjiodbggjmoafhignh/fonts/fabric-icons.css"></div></div></editor-card></html>